<style type="text/css">

    .children-day{background:url(http://img0.sfht.com/img/1183a239e8d5d0359b15c38e9279a253.jpg) no-repeat center top}.children-day .pm{padding-top:1145px;height:2611px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative}.children-day .a1{width:123px;height:123px;position:absolute;left:468px;top:396px;text-indent:-999em}.children-day .a2{width:281px;height:121px;position:absolute;left:183px;top:878px;text-indent:-999em}.m-dialog{position:absolute;top:100px;left:50%;display:none}.m-dialog .mb{position:relative;left:-50%;background:#fff;background:rgba(255,255,255,0.85);border:2px solid #ccc;padding:10px 26px;-webkit-border-radius:4px;border-radius:4px}.m-dialog h2,.m-dialog h3{color:#ff0064;font-size:14px;margin:10px 0}.m-dialog li{font-size:14px;line-height:22px}.m-dialog .close{position:absolute;right:10px;top:10px;font-size:18px;color:#ccc}.tab{background:#fff}.tab-h{padding-top:37px;font-size:24px;border-bottom:1px solid #b6b6b6;height:48px;margin-bottom:43px}.tab-h li{width:33%;text-align:center;display:inline-block;background:url(http://img0.sfht.com/img/a79572cb813145bb5ef71b79b619aad3.jpg) no-repeat center bottom;padding-bottom:40px}.tab-h li.active{background:url(http://img0.sfht.com/img/eb8bf6f32a090f78d8d032540f9c2ddb.jpg) no-repeat center bottom}.tab-h .active a{color:#009ae4}.tab-h a{color:#b6b6b6}.tab-b{padding-left:6px;display:none}.tab-b.active{display:block}.tab-b li{display:inline-block;margin-left:10px;margin-bottom:30px;position:relative}.tab-b{padding-bottom:28px}.footer1{margin-top:0}.icon-soldout{background:url(http://img0.sfht.com/img/eb8bf6f32a090f78d8d032540f9c2ddb.jpg) no-repeat;width:159px;height:159px;position:absolute;left:279px;top:862px;text-indent:-999em}.mask61{position:absolute;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width: 100%; height: 100%; left: 0; top: 0; background: #000; opacity: .5; filter: alpha(opacity=50); z-index: 1;}.tab-b li span{font-size:36px;line-height:40px;text-align:center;color:#fff;position:absolute;left:0;top:122px;width:100%;z-index:1}
</style>
<body>
<div class="pb">
<div class="children-day">
<div class="pm">
  <a class="a1" href="">抢券</a>
  <a class="a2" href="javascript:void(0)" title="点击领取" name="cms-fill-coupon" data-cms-couponbagid="207" data-cms-coupontype="CARD">领取优惠券</a>
  <div class="icon-soldout" style="display:none">已抢光</div>
  <div class="m-dialog">

    <div class="mb">
      <a class="close" href="">X</a>

      <ul>
        <li>活动预热时间：2015年5月29日10:00- 2015年5月31日23:59</li>
        <li>六一儿童节大促时间：2015年6月1日10:00- 2015年6月3日23:59</li>
      </ul>

      <h2>优惠券规则：</h2>
      <h3>20元无门槛优惠券</h3>
      <ul>
        <li>1.活动预热期间每日10点整准时限量发放20元现金抵用券20000张，先抢先得抢完为止，每个ID限领一张。</li>
        <li>2.优惠券使用有效期限：2015.6.1 10:00-2015.6.3 23:59</li>
        <li>3.此券六一狂欢季无门槛全场通用，秒杀商品及小于等于20元商品无法使用此优惠券</li>
      </ul>
      <h3>10元一号专车打车券</h3>
      <ul>
        <li>1.在5月29日00:00-5月31日23:59期间内，所有新注册用户将得到10元一号专车打车券一张；</li>
        <li>2.10元打车券将于6月1日10:00 统一短信发放告知，用户自行前往1号专车平台兑换优惠码；</li>
        <li>3.优惠码兑换有限期为：6月1日10:00-6月30日23:59（逾期优惠券兑换码将失效）；</li>
        <li>4.打车券使用期限为自兑换后15天内有效。</li>
        <li>5. 10元一号专车打车券限量发放20000张，先注册先得，只限新注册用户，每个顺丰海淘账户ID限领一张；</li>
      </ul>

      <h2>秒杀商品规则：</h2>
      <ul>
        <li>六一大促活动期间，每个ID账户同一个秒杀商品只限购买一次，秒杀商品不得使用任何优惠券。</li>
      </ul>
    </div>
  </div>


  <div class="tab">
    <ul class="tab-h">
      <li class="active"><a href="">6月1日</a></li><li><a href="">6月2日</a></li><li><a href="">6月3日</a></li>
    </ul>
    <div class="tab-b active">
      <li><a href="http://www.sfht.com/detail/2205.html" target="_blank"><img src="http://img0.sfht.com/img/57147c970373467c63565cdf5acf06d1.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/2193.html" target="_blank"><img src="http://img0.sfht.com/img/be28fe8ea142a7fb6dc798cee7bb0fbd.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/142.html" target="_blank"><img src="http://img0.sfht.com/img/d82fd14eb493f9e0e3b4886c010e7580.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1464.html" target="_blank"><img src="http://img0.sfht.com/img/11333b73f682851e8155e19a35462bdb.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/874.html" target="_blank"><img src="http://img0.sfht.com/img/36be8f1a6f63b7f6305c20d8e3d09a81.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1422.html" target="_blank"><img src="http://img0.sfht.com/img/30b04826657acab710a3e9b55ed6dbbd.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/54.html" target="_blank"><img src="http://img0.sfht.com/img/2a1f8f3ae8b1f3ba05c00f87c8fd9f96.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/479.html" target="_blank"><img src="http://img0.sfht.com/img/3fb848e14fb0804ae8b105e8aae2a36d.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
    </div>
    <div class="tab-b">
      <li><a href="http://www.sfht.com/detail/2206.html" target="_blank"><img src="http://img0.sfht.com/img/9db7f0bab4287e293249e3be72b993f5.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/2199.html" target="_blank"><img src="http://img0.sfht.com/img/7a40e9d74e07a193eecb7f4c2d920195.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1864.html" target="_blank"><img src="http://img0.sfht.com/img/ae0221bfebbc28de6d49315ef0932ba1.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/937.html" target="_blank"><img src="http://img0.sfht.com/img/ef8eebd5ac90b606f922459917225504.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1115.html" target="_blank"><img src="http://img0.sfht.com/img/23ba682f203007cdcdd7803593c52677.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/2065.html" target="_blank"><img src="http://img0.sfht.com/img/304c531e4d929004af7a67c8f025619f.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1211.html" target="_blank"><img src="http://img0.sfht.com/img/993d2c7947bf5f401b3faa654b445470.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/62.html" target="_blank"><img src="http://img0.sfht.com/img/377a27711e046fb8a9806d321dbc546c.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
    </div>
    <div class="tab-b">
      <li><a href="http://www.sfht.com/detail/2207.html" target="_blank"><img src="http://img0.sfht.com/img/9e7578f75eb29b7d6de96faa038b12ba.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1893.html" target="_blank"><img src="http://img0.sfht.com/img/db89d5c9a6300b78047c0155efbbcea6.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/55.html" target="_blank"><img src="http://img0.sfht.com/img/8b823b985c16a05b14b44cb85b1ac083.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/797.html" target="_blank"><img src="http://img0.sfht.com/img/7e85627d0c39d1ba60a134781b0925bb.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>10点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1850.html" target="_blank"><img src="http://img0.sfht.com/img/caa58dac17d46656ec7640b1b93d256a.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/1981.html" target="_blank"><img src="http://img0.sfht.com/img/e346d6949f14aeee07ee917f083601d3.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/798.html" target="_blank"><img src="http://img0.sfht.com/img/bb913ba38e30a23208f090d967a1ab93.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
      <li><a href="http://www.sfht.com/detail/97.html" target="_blank"><img src="http://img0.sfht.com/img/8d5df5dda2cdec8b05653f3fb77e5c68.jpg"><div class="mask61"></div><span>即将开始<br>限量100<br><br>16点开抢</span></a></li>
    </div>
  </div>
</div>
</div>
</div>
<script src="http://img.sfht.com/sfht/1.1.54/scripts/require.min.js"></script>
<script src="http://img.sfht.com/sfht/1.1.54/scripts/sf.web.base.js"></script>
<script>
$(function(){
  $('.tab-h li').click(function(){
    $(this).addClass('active').siblings().removeClass('active');
    var index=$('.tab-h li').index(this);
    $('.tab-b').eq(index).addClass('active').siblings().removeClass('active');
    return false;
  })
  $('.children-day .a1').click(function(){
    $('.m-dialog').show();
    return false;
  })
  $('.m-dialog .close').click(function(){
    $('.m-dialog').hide();
    return false;
  })
})
</script>
<script>
"object" != typeof JSON && (JSON = {}),
  function() {
    function f(a) {
      return 10 > a ? "0" + a : a
    }

    function this_value() {
      return this.valueOf()
    }

    function quote(a) {
      return escapable.lastIndex = 0, escapable.test(a) ? '"' + a.replace(escapable, function(a) {
        var b = meta[a];
        return "string" == typeof b ? b : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
      }) + '"' : '"' + a + '"'
    }

    function str(a, b) {
      var c, d, e, f, g, h = gap,
        i = b[a];
      switch (i && "object" == typeof i && "function" == typeof i.toJSON && (i = i.toJSON(a)), "function" == typeof rep && (i = rep.call(b, a, i)), typeof i) {
        case "string":
          return quote(i);
        case "number":
          return isFinite(i) ? String(i) : "null";
        case "boolean":
        case "null":
          return String(i);
        case "object":
          if (!i) return "null";
          if (gap += indent, g = [], "[object Array]" === Object.prototype.toString.apply(i)) {
            for (f = i.length, c = 0; f > c; c += 1) g[c] = str(c, i) || "null";
            return e = 0 === g.length ? "[]" : gap ? "[\n" + gap + g.join(",\n" + gap) + "\n" + h + "]" : "[" + g.join(",") + "]", gap = h, e
          }
          if (rep && "object" == typeof rep)
            for (f = rep.length, c = 0; f > c; c += 1) "string" == typeof rep[c] && (d = rep[c], e = str(d, i), e && g.push(quote(d) + (gap ? ": " : ":") + e));
          else
            for (d in i) Object.prototype.hasOwnProperty.call(i, d) && (e = str(d, i), e && g.push(quote(d) + (gap ? ": " : ":") + e));
          return e = 0 === g.length ? "{}" : gap ? "{\n" + gap + g.join(",\n" + gap) + "\n" + h + "}" : "{" + g.join(",") + "}", gap = h, e
      }
    }
    "function" != typeof Date.prototype.toJSON && (Date.prototype.toJSON = function() {
      return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
    }, Boolean.prototype.toJSON = this_value, Number.prototype.toJSON = this_value, String.prototype.toJSON = this_value);
    var cx, escapable, gap, indent, meta, rep;
    "function" != typeof JSON.stringify && (escapable = /[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, meta = {
      "\b": "\\b",
      " ": "\\t",
      "\n": "\\n",
      "\f": "\\f",
      "\r": "\\r",
      '"': '\\"',
      "\\": "\\\\"
    }, JSON.stringify = function(a, b, c) {
      var d;
      if (gap = "", indent = "", "number" == typeof c)
        for (d = 0; c > d; d += 1) indent += " ";
      else "string" == typeof c && (indent = c);
      if (rep = b, !b || "function" == typeof b || "object" == typeof b && "number" == typeof b.length) return str("", {
        "": a
      });
      throw new Error("JSON.stringify")
    }), "function" != typeof JSON.parse && (cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, JSON.parse = function(text, reviver) {
      function walk(a, b) {
        var c, d, e = a[b];
        if (e && "object" == typeof e)
          for (c in e) Object.prototype.hasOwnProperty.call(e, c) && (d = walk(e, c), void 0 !== d ? e[c] = d : delete e[c]);
        return reviver.call(a, b, e)
      }
      var j;
      if (text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function(a) {
          return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
        })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), "function" == typeof reviver ? walk({
        "": j
      }, "") : j;
      throw new SyntaxError("JSON.parse")
    })
  }(), define("JSON", function() {}), define("sf.b2c.mall.business.config", [], function() {
    var a = "www.sfht.com",
      b = "sfhaitao.xyz!",
      c = {
        _aid: 1,
        _sm: "md5"
      },
      d = (window.location.hostname, {
        url: "http://www.sfht.com/m.api",
        fileurl: "http://www.sfht.com/file.api",
        detailurl: "http://item.sfht.com",
        topicurl: "http://topic.sfht.com",
        mainurl: "http://www.sfht.com"
      }),
      e = {
        404: "http://www.sfht.com/404.html",
        activated: "http://www.sfht.com/activated.html",
        agreement: "http://www.sfht.com/agreement.html",
        center: "http://www.sfht.com/center.html",
        gotopay: "http://www.sfht.com/gotopay.html",
        index: "http://www.sfht.com/index.html",
        login: "http://www.sfht.com/login.html",
        nullactivated: "http://www.sfht.com/nullactivated.html",
        order: "http://www.sfht.com/order.html",
        orderdetail: "http://www.sfht.com/orderdetail.html",
        orderlist: "http://www.sfht.com/orderlist.html",
        passwordchange: "http://www.sfht.com/password-change.html",
        preheat: "http://www.sfht.com/preheat.html",
        process: "http://www.sfht.com/process.html",
        register: "http://www.sfht.com/register.html",
        retrieve: "http://www.sfht.com/retrieve.html",
        ilogin: "http://www.sfht.com/i.login.html",
        iregister: "http://www.sfht.com/i.register.html",
        coupon: "http://www.sfht.com/coupon.html",
        bindaccount: "http://www.sfht.com/bindaccount.html",
        setpassword: "http://www.sfht.com/setpassword.html",
        paysuccess: "http://www.sfht.com/paysuccess.html"
      };
    return {
      setting: {
        none_append_word: b,
        default_header: c,
        md5_key: a,
        api: d,
        link: e
      }
    }
  }), define("text", ["module"], function(a) {
    var b, c, d, e, f, g = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
      h = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
      i = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
      j = "undefined" != typeof location && location.href,
      k = j && location.protocol && location.protocol.replace(/\:/, ""),
      l = j && location.hostname,
      m = j && (location.port || void 0),
      n = {},
      o = a.config && a.config() || {};
    return b = {
      version: "2.0.14",
      strip: function(a) {
        if (a) {
          a = a.replace(h, "");
          var b = a.match(i);
          b && (a = b[1])
        } else a = "";
        return a
      },
      jsEscape: function(a) {
        return a.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
      },
      createXhr: o.createXhr || function() {
        var a, b, c;
        if ("undefined" != typeof XMLHttpRequest) return new XMLHttpRequest;
        if ("undefined" != typeof ActiveXObject)
          for (b = 0; 3 > b; b += 1) {
            c = g[b];
            try {
              a = new ActiveXObject(c)
            } catch (d) {}
            if (a) {
              g = [c];
              break
            }
          }
        return a
      },
      parseName: function(a) {
        var b, c, d, e = !1,
          f = a.lastIndexOf("."),
          g = 0 === a.indexOf("./") || 0 === a.indexOf("../");
        return -1 !== f && (!g || f > 1) ? (b = a.substring(0, f), c = a.substring(f + 1)) : b = a, d = c || b, f = d.indexOf("!"), -1 !== f && (e = "strip" === d.substring(f + 1), d = d.substring(0, f), c ? c = d : b = d), {
          moduleName: b,
          ext: c,
          strip: e
        }
      },
      xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
      useXhr: function(a, c, d, e) {
        var f, g, h, i = b.xdRegExp.exec(a);
        return i ? (f = i[2], g = i[3], g = g.split(":"), h = g[1], g = g[0], !(f && f !== c || g && g.toLowerCase() !== d.toLowerCase() || (h || g) && h !== e)) : !0
      },
      finishLoad: function(a, c, d, e) {
        d = c ? b.strip(d) : d, o.isBuild && (n[a] = d), e(d)
      },
      load: function(a, c, d, e) {
        if (e && e.isBuild && !e.inlineText) return void d();
        o.isBuild = e && e.isBuild;
        var f = b.parseName(a),
          g = f.moduleName + (f.ext ? "." + f.ext : ""),
          h = c.toUrl(g),
          i = o.useXhr || b.useXhr;
        return 0 === h.indexOf("empty:") ? void d() : void(!j || i(h, k, l, m) ? b.get(h, function(c) {
          b.finishLoad(a, f.strip, c, d)
        }, function(a) {
          d.error && d.error(a)
        }) : c([g], function(a) {
          b.finishLoad(f.moduleName + "." + f.ext, f.strip, a, d)
        }))
      },
      write: function(a, c, d) {
        if (n.hasOwnProperty(c)) {
          var e = b.jsEscape(n[c]);
          d.asModule(a + "!" + c, "define(function () { return '" + e + "';});\n")
        }
      },
      writeFile: function(a, c, d, e, f) {
        var g = b.parseName(c),
          h = g.ext ? "." + g.ext : "",
          i = g.moduleName + h,
          j = d.toUrl(g.moduleName + h) + ".js";
        b.load(i, d, function() {
          var c = function(a) {
            return e(j, a)
          };
          c.asModule = function(a, b) {
            return e.asModule(a, j, b)
          }, b.write(a, i, c, f)
        }, f)
      }
    }, "node" === o.env || !o.env && "undefined" != typeof process && process.versions && process.versions.node && !process.versions["node-webkit"] && !process.versions["atom-shell"] ? (c = require.nodeRequire("fs"), b.get = function(a, b, d) {
      try {
        var e = c.readFileSync(a, "utf8");
        "" === e[0] && (e = e.substring(1)), b(e)
      } catch (f) {
        d && d(f)
      }
    }) : "xhr" === o.env || !o.env && b.createXhr() ? b.get = function(a, c, d, e) {
      var f, g = b.createXhr();
      if (g.open("GET", a, !0), e)
        for (f in e) e.hasOwnProperty(f) && g.setRequestHeader(f.toLowerCase(), e[f]);
      o.onXhr && o.onXhr(g, a), g.onreadystatechange = function() {
        var b, e;
        4 === g.readyState && (b = g.status || 0, b > 399 && 600 > b ? (e = new Error(a + " HTTP status: " + b), e.xhr = g, d && d(e)) : c(g.responseText), o.onXhrComplete && o.onXhrComplete(g, a))
      }, g.send(null)
    } : "rhino" === o.env || !o.env && "undefined" != typeof Packages && "undefined" != typeof java ? b.get = function(a, b) {
      var c, d, e = "utf-8",
        f = new java.io.File(a),
        g = java.lang.System.getProperty("line.separator"),
        h = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f), e)),
        i = "";
      try {
        for (c = new java.lang.StringBuffer, d = h.readLine(), d && d.length() && 65279 === d.charAt(0) && (d = d.substring(1)), null !== d && c.append(d); null !== (d = h.readLine());) c.append(g), c.append(d);
        i = String(c.toString())
      } finally {
        h.close()
      }
      b(i)
    } : ("xpconnect" === o.env || !o.env && "undefined" != typeof Components && Components.classes && Components.interfaces) && (d = Components.classes, e = Components.interfaces, Components.utils["import"]("resource://gre/modules/FileUtils.jsm"), f = "@mozilla.org/windows-registry-key;1" in d, b.get = function(a, b) {
      var c, g, h, i = {};
      f && (a = a.replace(/\//g, "\\")), h = new FileUtils.File(a);
      try {
        c = d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream), c.init(h, 1, 0, !1), g = d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream), g.init(c, "utf-8", c.available(), e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER), g.readString(c.available(), i), g.close(), c.close(), b(i.value)
      } catch (j) {
        throw new Error((h && h.path || "") + ": " + j)
      }
    }), b
  }), define("text!template_widget_message", [], function() {
    return '<div id="messagedialog">\n  <div class="mask2" style="display: inline;width: 100%; height: 100%; position: fixed; left: 0; top: 0; background: #000; opacity: 0.5; filter:alpha(opacity=50); z-index: 3;"></div>\n\n  <div class="dialog dialog-center" style="display: block;">\n    <h2>{{title}}</h2><a href="javascript:void(0)" class="btn btn-close" id="close">关闭</a>\n    <p>{{{tip}}}</p>\n    <div class="dialog-f">\n      {{{buttons}}}\n    </div>\n  </div>\n</div>\n\n\n'
  }), define("sf.b2c.mall.widget.message", ["jquery", "can", "text!template_widget_message"], function(a, b, c) {
    return b.Control.extend({
      init: function() {
        this.data = {}, this.data.type = this.options.type, this.data.tip = this.options.tip, this.data.title = this.options.title, this.data.closeTime = this.options.closeTime, this.data.customizeClass = this.options.customizeClass, this.data.okFunction = "undefined" != typeof this.options.okFunction ? this.options.okFunction : null, this.data.closeFunction = "undefined" != typeof this.options.closeFunction ? this.options.closeFunction : null, this.data.buttons = this.buttonsMap[this.data.type], this.render(), this.setTimeoutClose(this.data)
      },
      setTimeoutClose: function(a) {
        var b = this;
        a.closeTime && setTimeout(function() {
          b.close()
        }, a.closeTime)
      },
      render: function() {
        this.setup(a("body"));
        var d = b.mustache(c);
        this.options.html = d(this.data), a("body").append(this.options.html)
      },
      buttonsMap: {
        confirm: '<a href="javascript:void(0)" class="btn btn-send" id="ok">确定</a><a href="javascript:void(0)" class="btn btn-cancel" id="cancel">取消</a>',
        error: '<a href="javascript:void(0)" class="btn btn-send" id="ok">确定</a>',
        success: '<a href="javascript:void(0)" class="btn btn-send" id="ok">确定</a>',
        input: '<a href="javascript:void(0)" class="btn btn-send" id="input">提交</a>'
      },
      "#input click": function() {
        if ("undefined" != typeof this.data.okFunction && null != this.data.okFunction) {
          var a = this.data.okFunction.apply(this);
          if (a !== !0) return !1
        }
        return this.close(), !1
      },
      "#close click": function() {
        return this.close(), !1
      },
      "#ok click": function() {
        return "undefined" != typeof this.data.okFunction && null != this.data.okFunction && this.data.okFunction.apply(this), this.close(), !1
      },
      "#cancel click": function() {
        return "undefined" != typeof this.data.closeFunction && null != this.data.closeFunction && this.data.closeFunction.apply(this), this.close(), !1
      },
      close: function() {
        a("#messagedialog").remove(), this.destroy()
      }
    })
  }), define("sf.b2c.mall.api.coupon.receiveCoupon", ["jquery", "can", "underscore", "sf.b2c.mall.framework.comm", "sf.b2c.mall.api.security.type"], function(a, b, c, d, e) {
    return d.extend({
      api: {
        METHOD_NAME: "coupon.receiveCoupon",
        SECURITY_TYPE: e.UserLogin.name,
        REQUIRED: {
          type: "string",
          bagId: "long",
          receiveChannel: "string",
          receiveWay: "string"
        },
        OPTIONAL: {
          needSms: "int",
          smsCon: "string"
        },
        VERIFY: {},
        ERROR_CODE: {
          11000020: "卡券id不存在",
          11000030: "卡券已作废",
          11000050: "卡券已领完",
          11000100: "用户已领过该券",
          11000130: "卡包不存在",
          11000140: "卡包已作废"
        }
      }
    })
  }), define("sf.b2c.mall.module.getcoupon", ["can", "jquery", "sf.b2c.mall.framework.comm", "sf.b2c.mall.business.config", "sf.b2c.mall.widget.message", "sf.b2c.mall.api.coupon.receiveCoupon"], function(a, b, c, d, e, f) {
    c.register(1);
    var g = a.Control.extend({
      init: function() {
        var a = this;
        return b("[name='cms-fill-coupon']").click(function(d) {
          if (!c.prototype.checkUserLogin.call(this)) return new e(null, {
            tip: "抱歉！需要登录后才可以领取优惠券！",
            type: "success",
            okFunction: function() {
              window.component.showLogin()
            }
          }), !1;
          var f = {
              bagId: b(d.target).data("cms-couponbagid"),
              type: b(d.target).data("cms-coupontype")
            },
            g = b(d.target).data("needsms"),
            h = b(d.target).data("smscon");
          g && (f.needSms = g), h && (f.smsCon = h), a.receiveCpCodeData(f)
        }), !1
      },
      errorMap: {
        11000020: "卡券不存在",
        11000030: "卡券已作废",
        11000050: "卡券已领完",
        11000100: "您已领过该券",
        11000130: "卡包不存在",
        11000140: "卡包已作废"
      },
      receiveCpCodeData: function(b) {
        b.receiveChannel = "B2C", b.receiveWay = "ZTLQ";
        var c = this,
          d = new f(b);
        return a.when(d.sendRequest()).done(function() {
          new e(null, {
            tip: "领取成功！",
            type: "success"
          })
        }).fail(function(a) {
          new e(null, {
            tip: c.errorMap[a] || "领取失败",
            type: "error"
          })
        })
      }
    });
    new g
  }), require(["sf.b2c.mall.module.getcoupon"]);
</script>
</body>